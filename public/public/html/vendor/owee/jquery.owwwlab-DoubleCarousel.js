if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){var i,s=false;var o={init:function(t,n){var r=this;r.elem=n;r.$elem=e(n);r.options=e.extend({},e.fn.DoubleCarousel.options,t);i=r.options;i.allItems=r.$elem.find(".item");i.leftItems=i.leftSide.find(".item");i.rightItems=i.rightSide.find(".item");r.prepare();r.bindUIActions()},prepare:function(){var e=this;i.slideCount=i.leftSide.find(".item").length;i.currentSlideIndex=0;i.counterTotal.html(i.slideCount);i.counterCurrent.html(1);i.nextButton.fadeIn();i.prevButton.fadeOut();i.rightDirectionSign=i.rightSideDir=="down"?-1:1;i.leftDirectionSign=i.leftSideDir=="down"?-1:1;e.update();var t=i.leftSide.attr("data-fill"),n=i.rightSide.attr("data-fill");if(t){e.fillCore(t,"left")}if(n){e.fillCore(n,"right")}},update:function(){var t=this;i.carouselHeight=t.$elem.height();var n=i.carouselHeight;i.rightItems.each(function(){var t=e(this),r=t.index();TweenMax.to(t,0,{y:i.rightDirectionSign*r*n})});i.leftItems.each(function(){var t=e(this),r=t.index();TweenMax.to(t,0,{y:i.leftDirectionSign*r*n})});(new TimelineLite).to(i.rightWrapper,0,{y:-i.rightDirectionSign*i.currentSlideIndex*n}).to(i.leftWrapper,0,{y:-i.leftDirectionSign*i.currentSlideIndex*n});i.leftSide.removeAttr("style");i.leftSide.width(Math.floor(i.leftSide.width()));i.rightSide.removeAttr("style");i.rightSide.width(Math.floor(i.rightSide.width()))},nextSlide:function(){if(i.currentSlideIndex>=i.slideCount-1||s){return false}var e=this,t=i.carouselHeight;s=true;i.currentSlideIndex++;if(i.currentSlideIndex+1==i.slideCount)i.nextButton.fadeOut();i.prevButton.fadeIn();e.changeSlide(i.currentSlideIndex)},prevSlide:function(){if(i.currentSlideIndex<=0||s){return false}var e=this,t=i.carouselHeight;s=true;i.currentSlideIndex--;if(i.currentSlideIndex==0){i.prevButton.fadeOut()}i.nextButton.fadeIn();e.changeSlide(i.currentSlideIndex)},gotoSlide:function(e){var t=this,n=i.carouselHeight;s=true;t.changeSlide(e)},changeSlide:function(e){var t=this,n=i.carouselHeight;t.$elem.trigger("start-change");t.updateCounter(i.currentSlideIndex);(new TimelineLite({onComplete:function(){s=false;t.$elem.trigger("end-change")}})).to(i.rightWrapper,i.rightSideDuration,{y:-i.rightDirectionSign*e*n,ease:Power4.easeOut}).to(i.leftWrapper,i.leftSideDuration,{y:-i.leftDirectionSign*e*n,ease:Power4.easeOut},"-="+i.rightSideDuration)},updateCounter:function(e){i.counterCurrent.html(e+1)},bindUIActions:function(){var n=this;i.nextButton.on("click",function(){n.nextSlide()});i.prevButton.on("click",function(){n.prevSlide()});e(t).on("resize",function(){n.update()});if(i.mouse){n.scrollControll()}if(i.keyboard){n.keyboardControll()}if(i.touchSwipe){n.touchControll()}if(i.bulletControll){n.bulletControll()}},scrollControll:function(){var e=this;e.$elem.on("DOMMouseScroll mousewheel",function(t){if(t.originalEvent.detail>0||t.originalEvent.wheelDelta<0){e.nextSlide()}else{e.prevSlide()}})},keyboardControll:function(){e(n).keydown(function(e){switch(e.which){case 38:self.prevSlide();break;case 40:self.nextSlide();break;default:return}e.preventDefault()})},touchControll:function(){var e=this;e.$elem.swipe({swipe:function(t,n,r){if(n=="down"){e.nextSlide()}else if(n=="up"){e.prevSlide()}}})},bulletControll:function(){var t=this;var n=e("<ul></ul>").addClass("vc-bullets");if(i.bulletNumber){n.addClass("bullet-numbers")}var r="",s,o;for(var u=0;u<=i.slideCount-1;u++){s=u<10?"0"+(u+1):u+1;o=i.bulletNumber==true?"<span>"+s+"</span>":"";r+="<li><span>"+o+"</span></li>"}n.append(r).appendTo(t.$elem);i.bullets=n.children();if(i.bulletCenter=="vertical"){n.css("margin-top",-(n.height()/2))}else if(i.bulletCenter=="horizontal"){n.css("margin-left",-(n.width()/2))}i.bullets.eq(i.currentSlideIndex).addClass("active");i.bullets.on("click",function(){var n=e(this),r=e(this).index();if(r==i.currentSlideIndex){return false}i.currentSlideIndex=r;t.gotoSlide(r)});t.$elem.on("start-change",function(){i.bullets.removeClass("active");i.bullets.eq(i.currentSlideIndex).addClass("active")})},fillCore:function(n,r){function a(){o.each(function(){f(e(this),u,s.$elem.width(),n,r)})}function f(t,n,r,i,s){t.imagesLoaded(function(){var o=n=="manual"?r:t.width(),u=t.height(),a=o/u,f;t.find("img").each(function(){var t=e(this);f=t.width()/t.height();if(a<f){t.css({width:"auto",height:u,marginTop:0,marginLeft:-(u*f-o)/2})}else{t.css({width:o,height:"auto",marginTop:-(o/f-u)/2,marginLeft:0})}if(i=="side-fill"){t.addClass("fill-"+s)}})})}var s=this;var o=r=="left"?i.leftItems:i.rightItems;var u=n=="side-fill"?"manual":"auto";a();e(t).on("resize",function(){a()})}};e.fn.DoubleCarousel=function(e){return this.each(function(){var t=Object.create(o);t.init(e,this)})};e.fn.DoubleCarousel.options={rightSide:e(".right-side"),leftSide:e(".left-side"),leftWrapper:e(".left-side-wrapper"),rightWrapper:e(".right-side-wrapper"),nextButton:e(".vcarousel-next"),prevButton:e(".vcarousel-prev"),counterTotal:e(".vcarousel-counter .counter-total"),counterCurrent:e(".vcarousel-counter .counter-current"),rightSideDir:"up",leftSideDir:"down",leftSideDuration:1,rightSideDuration:1,mouse:true,keyboard:true,touchSwipe:true,bulletControll:true,bulletNumber:false,bulletCenter:"vertical"}})(jQuery,window,document)